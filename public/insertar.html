<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <title>Insertar producto</title>
    <style>
        @keyframes borderGlow {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
          }
          .before\:animate-borderGlow::before {
            animation: borderGlow 1.5s infinite ease-in-out;
          }
          .animate-borderGlow {
            animation: borderGlow 1.5s infinite ease-in-out;
          }
        </style>
</head>
<div class="self-end mt-4">
    <a href="productos.html" class="border rounded-xl p-2 hover:scale-110 hover:bg-white hover:text-zinc-900 my-2 animate-borderGlow focus:outline-none bg-transparent me-10">Volver atrás</a>
    <a href="index.html" class="border rounded-xl p-2 hover:scale-110 hover:bg-white hover:text-zinc-900 my-2 animate-borderGlow focus:outline-none bg-transparent me-10">Cerrar sesión</a>
</div>
<body class="bg-zinc-900 text-white flex flex-col items-center">
<h1  class="text-4xl my-4 bg-white text-zinc-900 border-white rounded bg-transparent text-black
                 animate-borderGlow focus:outline-none p-5">Insertar Producto</h1>
<p>Nombre: <input type="text" name="nombre" id="nombre" class="mt-2 p-2 border-4 border-white rounded bg-transparent text-white
    animate-borderGlow focus:outline-none"></p>
<p>Precio: <input type="number" name="precio" id="precio" class="mt-2 p-2 border-4 border-white rounded bg-transparent text-white
    animate-borderGlow focus:outline-none"></p>
<p>Categoría: <input type="text" name="categoria" id="categoria" class="mt-2 p-2 border-4 border-white rounded bg-transparent text-white
    animate-borderGlow focus:outline-none"></p>
<button id="btn-insertar" class="border rounded-xl p-2 hover:scale-110 hover:bg-white hover:text-zinc-900 my-2 animate-borderGlow focus:outline-none bg-transparent">Insertar</button>

<script>
    const insertOrdenador = ()=>{
        let nombre = document.getElementById('nombre').value;
        let precio = document.getElementById('precio').value;
        let categoria = document.getElementById('categoria').value;
        fetch('/items',{
            method: 'POST',
            headers: {
                'Content-Type' : 'application/JSON'
            },
            body: JSON.stringify({nombre, precio, categoria})
        }).then(
            ordenador=>{
                if ( ordenador ) {
                    alert("Producto insertdo")
                } else {
                    alert("No se insertó el producto")
                }
            }

        )
        .catch(err=>{
            alert(err);
        })
    }

    document.getElementById("btn-insertar").addEventListener('click',insertOrdenador)

</script>
</body>
</html>